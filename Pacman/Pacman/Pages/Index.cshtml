@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
 .wall {
			width: 50px;
			height: 50px;
			background-image: url('/images/wall.png');
			display: inline-block;
		}
		.coin {
			width: 50px;
			height: 50px;
			background-image: url('/images/coin.png');
			display: inline-block;
		}
		.ground {
			width: 50px;
			height: 50px;
			background-image: url('/images/bg.png');
			display: inline-block;
		}
		.ghost {
			width: 50px;
			height: 50px;
			background-image: url('/images/ghost1.png');
			display: inline-block;
		}
		.pacman {
			width: 50px;
			height: 50px;
			background-image: url('/images/pacman.png');
			display: inline-block;
		}

		div {
			line-height: 0px;
		}




		/* End of CSS */
	</style>
</head>
<body>
    <!-- All of our HTML code goes here... -->

    <div id='world'>

    </div>
    <!-- End of HTML-->
</body>
<script>
    // All of our JavaScript code goes here...

    // 1 => <div class='wall'></div>
    // 2 => <div class='coin'></div>
    // 3 => <div class='ground'></div>
    // 4 => <div class='ghost'></div>
    // 5 => <div class='pacman'></div>
    // map = [ 1, 2, 3 ]
    // map = [ [1,2,3], [1,2,3], [1,2,3] ];

    pacman = {
        x: 6,
        y: 4
    }

    map = [
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        [1, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 1],
        [1, 2, 1, 1, 1, 2, 1, 2, 1, 1, 1, 2, 1],
        [1, 2, 1, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1],
        [1, 2, 2, 2, 1, 1, 5, 1, 1, 2, 2, 2, 1],
        [1, 2, 1, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1],
        [1, 2, 1, 1, 2, 2, 1, 2, 2, 1, 1, 2, 1],
        [1, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 1],
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
    ]

    var el = document.getElementById('world');

    function drawWorld() {
        el.innerHTML = '';
        for (var y = 0; y < map.length; y = y + 1) {
            for (var x = 0; x < map[y].length; x = x + 1) {
                if (map[y][x] === 1) {
                    el.innerHTML += "<div class='wall'></div>";
                }
                else if (map[y][x] === 2) {
                    el.innerHTML += "<div class='coin'></div>";
                }
                else if (map[y][x] === 3) {
                    el.innerHTML += "<div class='ground'></div>";
                }
                else if (map[y][x] === 4) {
                    el.innerHTML += "<div class='ghost'></div>";
                }
                else if (map[y][x] === 5) {
                    el.innerHTML += "<div class='pacman'></div>";
                }
            }
            el.innerHTML += "<br>";
        }
    }

    drawWorld();

    document.onkeydown = function (event) {
        // console.log(event);
        if (event.keyCode === 37) { // PACMAN MOVE LEFT
            if (map[pacman.y][pacman.x - 1] !== 1) {
                map[pacman.y][pacman.x] = 3;
                pacman.x = pacman.x - 1;
                map[pacman.y][pacman.x] = 5;
                drawWorld();
            }
        }
        else if (event.keyCode === 38) { // PACMAN MOVE UP
            if (map[pacman.y - 1][pacman.x] !== 1) {
                map[pacman.y][pacman.x] = 3;
                pacman.y = pacman.y - 1;
                map[pacman.y][pacman.x] = 5;
                drawWorld();
            }
        }
        else if (event.keyCode === 39) { // PACMAN MOVE RIGHT
            if (map[pacman.y][pacman.x + 1] !== 1) {
                map[pacman.y][pacman.x] = 3;
                pacman.x = pacman.x + 1;
                map[pacman.y][pacman.x] = 5;
                drawWorld();
            }
        }
        else if (event.keyCode === 40) { // PACMAN MOVE DOWN
            if (map[pacman.y + 1][pacman.x] !== 1) {
                map[pacman.y][pacman.x] = 3;
                pacman.y = pacman.y + 1;
                map[pacman.y][pacman.x] = 5;
                drawWorld();
            }
        }
        console.log(map)
    }





    // End of JavaScript
</script>
</html>


<!--<div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="600
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
        <li data-target="#myCarousel" data-slide-to="3"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img src="~/images/banner1.svg" alt="ASP.NET" class="img-responsive" />
            <div class="carousel-caption" role="option">
                <p>
                    Learn how to build ASP.NET apps that can run anywhere.
                    <a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkID=525028&clcid=0x409">
                        Learn More
                    </a>
                </p>
            </div>
        </div>
        <div class="item">
            <img src="~/images/banner2.svg" alt="Visual Studio" class="img-responsive" />
            <div class="carousel-caption" role="option">
                <p>
                    There are powerful new features in Visual Studio for building modern web apps.
                    <a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkID=525030&clcid=0x409">
                        Learn More
                    </a>
                </p>
            </div>
        </div>
        <div class="item">
            <img src="~/images/banner3.svg" alt="Package Management" class="img-responsive" />
            <div class="carousel-caption" role="option">
                <p>
                    Bring in libraries from NuGet and npm, and automate tasks using Grunt or Gulp.
                    <a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkID=525029&clcid=0x409">
                        Learn More
                    </a>
                </p>
            </div>
        </div>
        <div class="item">
            <img src="~/images/banner4.svg" alt="Microsoft Azure" class="img-responsive" />
            <div class="carousel-caption" role="option">
                <p>
                    Learn how Microsoft's Azure cloud platform allows you to build, deploy, and scale web apps.
                    <a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkID=525027&clcid=0x409">
                        Learn More
                    </a>
                </p>
            </div>
        </div>
    </div>
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<div class="row">
    <div class="col-md-3">
        <h2>Application uses</h2>
        <ul>
            <li>Sample pages using ASP.NET Core Razor Pages</li>
            <li>Theming using <a href="https://go.microsoft.com/fwlink/?LinkID=398939">Bootstrap</a></li>
        </ul>
    </div>
    <div class="col-md-3">
        <h2>How to</h2>
        <ul>
            <li><a href="https://go.microsoft.com/fwlink/?linkid=852130">Working with Razor Pages.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699315">Manage User Secrets using Secret Manager.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699316">Use logging to log a message.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699317">Add packages using NuGet.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699319">Target development, staging or production environment.</a></li>
        </ul>
    </div>
    <div class="col-md-3">
        <h2>Overview</h2>
        <ul>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=518008">Conceptual overview of what is ASP.NET Core</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=699320">Fundamentals of ASP.NET Core such as Startup and middleware.</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=398602">Working with Data</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkId=398603">Security</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=699321">Client side development</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=699322">Develop on different platforms</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=699323">Read more on the documentation site</a></li>
        </ul>
    </div>
    <div class="col-md-3">
        <h2>Run &amp; Deploy</h2>
        <ul>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=517851">Run your app</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=517853">Run tools such as EF migrations and more</a></li>
            <li><a href="https://go.microsoft.com/fwlink/?LinkID=398609">Publish to Microsoft Azure App Service</a></li>
        </ul>
    </div>
</div>
